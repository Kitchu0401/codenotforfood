# Smilegate (로스트 아크) 최병주 팀장님?

아마존 es 서비스 구조 활용 (글로벌 시스템 로그 수집 > 통합 로그 수집으로 확장) 2.0 6.3

보안 / 성능 등 통합 로그 관리를 위해 사용을 시작 (aws 상용버전으로 시작)

aws 상용버전의 장점과 단점

장점: 밸런싱, 인스턴스관리, 오류 얼럿

단점: es의 성능을 최대한 뽑아낼수없고, 플러그인 설치 불가 (2.0 당시엔 플러그인이 너무 적었음)

노드를 많이 써도 제대로 성능이 나오지 않음. so, 오픈소스로 전환

로그 트래픽으로 인한 카프카 활용

GDPR이슈로 인한 프랑크프루트 리전

아쉬운 부분:

1.

es의 기술지원 - aws(enterprise)와 비교했을 때, initial response의 차이 (12m <-> 1h)

당초 예상했던 동시접속자 수의 두배(35만)가 들이닥침. 이슈가 발생했을 때 한시가 급한데 응답시간이 아쉬웠음

그리고 전화를 좀 받아주세요 ㅜㅜ 엔지니어분들은 전화를 받아주지 않으심

2.

라이센스키를 받아 적용할때 안되서 당황. (TLS 통신 이슈, 일주일 걸림)

번거롭고 자동화 할 수 있을 것 같은데 아쉬운 부분. 




EBS IOPS 이슈 동일하게 발생, 돈으로 바름

- EBS 1TB 사용하면 credit 제한 사라짐

- es의 메모리 설정은 30기가가 최적, max 32기가 (aws i3 type, mvm local storage (15만 io))
