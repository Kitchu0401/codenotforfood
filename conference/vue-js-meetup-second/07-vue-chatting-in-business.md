# Vue 채팅 클라이언트 현업적용기 by 임석민 님

## 우리 회사에 오신 것을 환영합니다

입사 1개월 만에 기존 레거시로 되어있던 채팅 모듈을 리뉴얼하는 과제

## 어떤건지 보여주자: 프로토타이핑

기술 스택 선정
- 프론트엔드: Angular, React, Vue, Ember 중 러닝커브가 가장 적다고 판단했기 때문에 Vue.js를 선택함!
- 백엔드: 예제가 있으며 백엔드를 별도로 구성하지 않아도 되기 때문에 firebase 사용!

## 개발은 실전이란다 뉴비얌

1. 여러개의 채팅모듈을 vue-router를 활용해서 동시에 적용하면..
    - vue-router가 적용된 채팅 클라이언트에서 routing 변경이 연속적으로 발생시 때때로 접속 및 해제 상태를 제대로 반영하지 못하는 이슈 발생
      > 주: vue-router의 라이프사이클 훅을 통해 세밀하게 조정 할 수 있지 않을까

2. vue는 update를 할 때마다 렌더링을 한다.
    - 메시지가 수천 개가 넘어가는 상황에서 과다한 렌더링으로 인해 문제가 발생 > 간헐적인 버벅임, 메시지 렌더링 실패
    - 크롬 개발자 도구 memory탭 - snapshot 기능을 활용해 메모리 사용을 추적

## 결론

레거시에서는 렌더링이 완료된 DOM Element가 곧 static data였기 때문에 동적인 과부하가 발생 x

Vue.js 기반의 채팅 클라이언트에서는 메시지 array 자체를 감시하기 때문에 전체 렌더링을 수행함

누적되는 메시지를 별도로 저장하든지 하는 추가적인 구현이 필요함!
